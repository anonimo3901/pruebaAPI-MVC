CREATE USER PRUEBABD IdentifIED by prb2022;
GRANT DBA TO PRUEBABD;

CREATE TABLE "PRUEBADB"."AUTORES" 
   (	"AUCONSECUTIVO" NUMBER NOT NULL ENABLE, 
	"AUNOMBRE" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
	"AUFECNAC" DATE, 
	"AUCIUPRO" VARCHAR2(30 BYTE), 
	"AUCORREO" VARCHAR2(40 BYTE)
   );


CREATE TABLE LIBROS 
(
  LICONSECUTIVO NUMBER NOT NULL 
, LITITULO VARCHAR2(50) NOT NULL 
, LIANO NUMBER 
, LIGENERO VARCHAR2(50) 
, LINUMPAG NUMBER 
, LIAUTOR NUMBER NOT NULL 
);

CREATE SEQUENCE SE_AUTORES  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  NOCYCLE ;
 
 create or replace TRIGGER TG_AUTORES
before INSERT ON AUTORES referencing new as new old as old
for each row 
DECLARE SER NUMBER:=0; 
BEGIN select SE_AUTORES.nextval Into ser from dual; :NEW.AUCONSECUTIVO := ser; END;


CREATE SEQUENCE SE_LIBROS  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  NOCYCLE ;
 
 create or replace TRIGGER TG_LIBROS
before INSERT ON LIBROS referencing new as new old as old
for each row 
DECLARE SER NUMBER:=0; 
BEGIN select SE_LIBROS.nextval Into ser from dual; :NEW.LICONSECUTIVO := ser; END;
